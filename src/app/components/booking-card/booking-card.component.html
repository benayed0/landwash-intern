<div class="booking-card">
  <div class="booking-header">
    <div class="vehicle-type">
      <div class="vehicle-icon">{{ getVehicleIcon(booking.type) }}</div>
      <span>
        {{ getVehicleTypeLabel(booking.type) }}
        @if (booking.type === 'salon' && booking.salonsSeats) {
        <span class="salon-seats"> ({{ booking.salonsSeats }} si√®ges) </span>
        }
      </span>
    </div>
    <span class="status-badge" [ngClass]="'status-' + booking.status">
      {{
        booking.status === "pending"
          ? "En attente"
          : booking.status === "confirmed"
          ? "Confirm√©"
          : booking.status === "completed"
          ? "Termin√©"
          : booking.status === "rejected"
          ? "Rejet√©"
          : booking.status
      }}
    </span>
  </div>

  <div class="booking-date">üìÖ {{ formatDate(booking.date) }}</div>

  <div class="booking-address">
    <span>üìç</span>
    <span>{{ booking.address }}</span>
  </div>

  <div class="booking-price">{{ booking.price }} DT</div>

  @if (booking.userId && booking.userId.phone) {
  <div class="user-info">
    Client: {{ booking.userId.name || booking.userId.email }} -
    {{ booking.userId.phone }}
  </div>
  } @if (booking.teamId ) {
  <div class="team-info">
    <span class="team-icon">üë•</span>
    <span class="team-label">√âquipe assign√©e:</span>
    <span class="team-name">{{ getTeamName(booking.teamId) }}</span>
    @if (booking.teamId && getChiefName(booking.teamId)) {
    <span class="team-chief"> (Chef: {{ getChiefName(booking.teamId) }}) </span>
    }
  </div>
  } @if (booking.status === 'pending') {
  <div class="booking-actions">
    <button class="action-btn confirm-btn" (click)="confirmBooking()">
      ‚úì Confirmer
    </button>
    <button class="action-btn reject-btn" (click)="rejectBooking()">
      ‚úó Rejeter
    </button>
  </div>
  } @if (booking.status === 'confirmed') {
  <div class="booking-actions">
    <button class="action-btn complete-btn" (click)="completeBooking()">
      ‚úì Marquer comme termin√©
    </button>
  </div>
  }
</div>
