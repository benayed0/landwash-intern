<div class="dashboard-container">
  <div class="header">
    <div class="header-content">
      <div class="logo">
        <div>
          <img
            src="../../../assets/logo.png"
            style="width: 40px; height: 40px"
            alt=""
          />
        </div>
        <span class="logo-text">Landwash Admin</span>
      </div>
      <button class="logout-btn" (click)="logout()">Déconnexion</button>
    </div>
  </div>

  <div class="tabs">
    <button
      class="tab"
      [class.active]="activeTab === 'pending'"
      (click)="activeTab = 'pending'"
    >
      En attente ({{ pendingBookings.length }})
    </button>
    <button
      class="tab"
      [class.active]="activeTab === 'confirmed'"
      (click)="activeTab = 'confirmed'"
    >
      Confirmées ({{ confirmedBookings.length }})
    </button>
    <button
      class="tab"
      [class.active]="activeTab === 'completed'"
      (click)="activeTab = 'completed'"
    >
      Historique
    </button>
  </div>

  <div class="content">
    <h2 class="section-title">{{ sectionTitle }}</h2>

    <div class="loading" *ngIf="loading">Chargement...</div>

    <div *ngIf="!loading && currentBookings.length === 0" class="empty-state">
      <div class="empty-icon">📋</div>
      <p>Aucune réservation dans cette catégorie</p>
    </div>

    <div *ngIf="!loading && currentBookings.length > 0">
      <app-booking-card
        *ngFor="let booking of currentBookings"
        [booking]="booking"
        (statusChange)="onStatusChange($event)"
        (requestComplete)="onRequestComplete($event)"
        (requestConfirm)="onRequestConfirm($event)"
      >
      </app-booking-card>
    </div>
  </div>

  <button class="refresh-btn" (click)="loadBookings()">🔄</button>

  <div class="bottom-nav">
    <a routerLink="/dashboard" class="nav-item active">
      <span class="nav-icon">🏠</span>
      <span class="nav-label">Accueil</span>
    </a>
    <a routerLink="/bookings" class="nav-item">
      <span class="nav-icon">📋</span>
      <span class="nav-label">Réservations</span>
    </a>
    <a routerLink="/teams" class="nav-item">
      <span class="nav-icon">👥</span>
      <span class="nav-label">Équipes</span>
    </a>
    <a routerLink="/profile" class="nav-item">
      <span class="nav-icon">👤</span>
      <span class="nav-label">Profil</span>
    </a>
  </div>

  <!-- Price Confirmation Modal -->
  <app-price-confirm-modal
    [booking]="selectedBookingForCompletion"
    [isOpen]="showPriceModal"
    (confirmComplete)="onConfirmComplete($event)"
    (close)="closeModal()"
  >
  </app-price-confirm-modal>

  <!-- Team Assignment Modal -->
  <app-team-assign-modal
    [booking]="selectedBookingForTeam"
    [isOpen]="showTeamModal"
    (confirmAssign)="onConfirmAssign($event)"
    (close)="closeTeamModal()"
  >
  </app-team-assign-modal>
</div>
