<div class="app-container" [class.webview-mode]="authService.isWebView()">
  <!-- Desktop Sidebar Navigation - Visible for browser users -->
  @if(!authService.isWebView()) {
  <div class="desktop-sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <img src="assets/logo.png" class="logo-img" alt="Landwash Logo" />
        <span class="logo-text">Landwash Admin</span>
      </div>
    </div>

    <nav class="sidebar-nav">
      <button
        class="nav-item"
        [class.active]="viewType() === 'bookings'"
        (click)="switchToBookings()"
      >
        <span class="nav-icon">ðŸš—</span>
        <span class="nav-label">RÃ©servations</span>
      </button>
      <button
        class="nav-item"
        [class.active]="viewType() === 'orders'"
        (click)="switchToOrders()"
      >
        <span class="nav-icon">ðŸ“¦</span>
        <span class="nav-label">Commandes</span>
      </button>
      <button
        class="nav-item"
        [class.active]="viewType() === 'subscriptions'"
        (click)="switchToSubscriptions()"
      >
        <span class="nav-icon">ðŸ’³</span>
        <span class="nav-label">Abonnements</span>
      </button>
      <button
        class="nav-item"
        [class.active]="viewType() === 'analytics'"
        (click)="switchToAnalytics()"
      >
        <span class="nav-icon">ðŸ“Š</span>
        <span class="nav-label">Analytics</span>
      </button>
      <button
        class="nav-item"
        [class.active]="viewType() === 'products'"
        (click)="switchToProducts()"
      >
        <span class="nav-icon">ðŸ§´</span>
        <span class="nav-label">Produits</span>
      </button>
    </nav>

    <div class="sidebar-footer">
      <button class="logout-btn" (click)="logout()">
        <span class="logout-icon">ðŸšª</span>
        <span class="logout-text">DÃ©connexion</span>
      </button>
    </div>
  </div>
  }

  <!-- Content Area -->
  <div
    class="content-container"
    [class.webview-mode]="authService.isWebView()"
    [class.with-sidebar]="!authService.isWebView()"
  >
    <!-- Bookings View -->
    <div class="view-container" [class.active]="viewType() === 'bookings'">
      <app-booking-list *ngIf="viewType() === 'bookings'"></app-booking-list>
    </div>

    <!-- Orders View -->
    <div class="view-container" [class.active]="viewType() === 'orders'">
      <app-order-list *ngIf="viewType() === 'orders'"></app-order-list>
    </div>

    <!-- Subscriptions View -->
    <div class="view-container" [class.active]="viewType() === 'subscriptions'">
      <app-subscription-list
        *ngIf="viewType() === 'subscriptions'"
      ></app-subscription-list>
    </div>

    <!-- Analytics View -->
    <div class="view-container" [class.active]="viewType() === 'analytics'">
      <app-analytics *ngIf="viewType() === 'analytics'"></app-analytics>
    </div>

    <!-- Products View -->
    <div class="view-container" [class.active]="viewType() === 'products'">
      <app-products *ngIf="viewType() === 'products'"></app-products>
    </div>
  </div>
  @if(!authService.isWebView()) {
  <!-- Mobile Bottom Navigation -->
  <div class="mobile-nav" [class.webview-only]="!authService.isWebView()">
    <div class="mobile-tab-bar">
      <button
        class="mobile-tab"
        [class.active]="viewType() === 'bookings'"
        (click)="switchToBookings()"
      >
        <span class="tab-icon">ðŸš—</span>
        <span class="tab-label">RÃ©servations</span>
      </button>
      <button
        class="mobile-tab"
        [class.active]="viewType() === 'orders'"
        (click)="switchToOrders()"
      >
        <span class="tab-icon">ðŸ“¦</span>
        <span class="tab-label">Commandes</span>
      </button>
      <button
        class="mobile-tab"
        [class.active]="viewType() === 'subscriptions'"
        (click)="switchToSubscriptions()"
      >
        <span class="tab-icon">ðŸ’³</span>
        <span class="tab-label">Abonnements</span>
      </button>
      <button
        class="mobile-tab"
        [class.active]="viewType() === 'analytics'"
        (click)="switchToAnalytics()"
      >
        <span class="tab-icon">ðŸ“Š</span>
        <span class="tab-label">Analytics</span>
      </button>
      <button
        class="mobile-tab"
        [class.active]="viewType() === 'products'"
        (click)="switchToProducts()"
      >
        <span class="tab-icon">ðŸ§´</span>
        <span class="tab-label">Produits</span>
      </button>
    </div>
  </div>
  }
</div>
