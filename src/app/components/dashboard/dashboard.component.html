<div class="dashboard-container">
  <app-navbar></app-navbar>

  <div class="tabs">
    <button
      class="tab"
      [class.active]="activeTab === 'pending'"
      (click)="activeTab = 'pending'"
    >
      En attente ({{ pendingBookings.length }})
    </button>
    <button
      class="tab"
      [class.active]="activeTab === 'confirmed'"
      (click)="activeTab = 'confirmed'"
    >
      ConfirmÃ©es ({{ confirmedBookings.length }})
    </button>
    <button
      class="tab"
      [class.active]="activeTab === 'completed'"
      (click)="activeTab = 'completed'"
    >
      Historique
    </button>
  </div>

  <div class="content">
    <h2 class="section-title">{{ sectionTitle }}</h2>

    <div class="loading" *ngIf="loading">Chargement...</div>

    <div *ngIf="!loading && currentBookings.length === 0" class="empty-state">
      <div class="empty-icon">ðŸ“‹</div>
      <p>Aucune rÃ©servation dans cette catÃ©gorie</p>
    </div>

    <div *ngIf="!loading && currentBookings.length > 0">
      <app-booking-card
        *ngFor="let booking of currentBookings"
        [booking]="booking"
        [userRole]="'admin'"
        (statusChange)="onStatusChange($event)"
        (requestComplete)="onRequestComplete($event)"
        (requestConfirm)="onRequestConfirm($event)"
      >
      </app-booking-card>
    </div>
  </div>

  <button class="refresh-btn" (click)="loadBookings()">ðŸ”„</button>

  <app-bottom-bar [activeTab]="'dashboard'"></app-bottom-bar>

  <!-- Price Confirmation Modal -->
  <app-price-confirm-modal
    [booking]="selectedBookingForCompletion"
    [isOpen]="showPriceModal"
    (confirmComplete)="onConfirmComplete($event)"
    (close)="closeModal()"
  >
  </app-price-confirm-modal>

  <!-- Team Assignment Modal -->
  <app-team-assign-modal
    [booking]="selectedBookingForTeam"
    [isOpen]="showTeamModal"
    (confirmAssign)="onConfirmAssign($event)"
    (close)="closeTeamModal()"
  >
  </app-team-assign-modal>
</div>
