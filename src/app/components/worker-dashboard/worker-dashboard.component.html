<div class="dashboard-container">
  <app-navbar></app-navbar>

  <!-- Welcome Section -->
  <div class="welcome-section" *ngIf="currentUser">
    <h2>Bonjour, {{ currentUser.name || currentUser.email }}!</h2>
    <p class="role-badge">EmployÃ©</p>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <button
      class="tab"
      [class.active]="activeTab === 'todo'"
      (click)="activeTab = 'todo'"
    >
      Ã€ faire ({{ todoBookings.length }})
    </button>
    <button
      class="tab"
      [class.active]="activeTab === 'completed'"
      (click)="activeTab = 'completed'"
    >
      TerminÃ©s ({{ completedBookings.length }})
    </button>
  </div>

  <!-- Content -->
  <div class="content">
    <h2 class="section-title">{{ sectionTitle }}</h2>

    <div class="loading" *ngIf="loading">
      <div class="spinner"></div>
      <p>Chargement des rÃ©servations...</p>
    </div>

    <div *ngIf="!loading && currentBookings.length === 0" class="empty-state">
      <div class="empty-icon">ğŸ“‹</div>
      <p *ngIf="activeTab === 'todo'">Aucun travail Ã  faire pour le moment</p>
      <p *ngIf="activeTab === 'completed'">Aucun travail terminÃ©</p>
    </div>

    <div *ngIf="!loading && currentBookings.length > 0">
      <app-booking-card
        *ngFor="let booking of currentBookings"
        [booking]="booking"
        [userRole]="'worker'"
        (statusChange)="onStatusChange($event)"
      >
      </app-booking-card>
    </div>
  </div>

  <!-- Refresh Button -->
  <button class="refresh-btn" (click)="loadBookings()">ğŸ”„</button>

  <app-bottom-bar [activeTab]="'dashboard'"></app-bottom-bar>
</div>
