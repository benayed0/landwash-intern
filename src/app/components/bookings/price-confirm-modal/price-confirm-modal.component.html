<div class="modal-inner">
  <div class="modal-header">
      <h3>Confirmer la complétion</h3>
      <button class="close-btn" (click)="cancel()">✕</button>
    </div>

    <div class="modal-body">
      <div class="booking-info">
        <div class="info-row">
          <span class="label">Type:</span>
          <span class="value">
            {{ getVehicleTypeLabel(booking?.type || "") }}
            @if(booking?.type === 'salon' && booking?.salonsSeats){

            <span class="salon-seats">
              ({{ booking?.salonsSeats }} sièges)
            </span>
            }
          </span>
        </div>
        <div class="info-row">
          <span class="label">Client:</span>
          <span class="value">{{
            booking?.userId?.name || booking?.userId?.email || "N/A"
          }}</span>
        </div>
        <div class="info-row">
          <span class="label">Date:</span>
          <span class="value">{{ formatDate(booking?.date) }}</span>
        </div>
        <div class="info-row" *ngIf="isTeamObject(booking?.teamId)">
          <span class="label">Équipe:</span>
          <span class="value team-name">
            {{ getTeamName(booking?.teamId) }}
            <span class="team-chief" *ngIf="getTeamChief(booking?.teamId)">
              (Chef: {{ getTeamChief(booking?.teamId) }})
            </span>
          </span>
        </div>
      </div>

      <div class="price-section">
        <label for="final-price">Prix final:</label>
        <div class="price-input-group">
          <input
            id="final-price"
            type="number"
            class="price-input"
            [(ngModel)]="finalPrice"
            min="0"
            step="10"
            (keyup.enter)="confirm()"
          />
          <span class="currency">DT</span>
        </div>
        <div
          class="original-price"
          *ngIf="booking && finalPrice !== booking.price"
        >
          Prix original: {{ booking.price }} DT
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button class="btn btn-cancel" (click)="cancel()">Annuler</button>
      <button class="btn btn-confirm" (click)="confirm()">
        Marquer comme terminé
      </button>
  </div>
</div>
